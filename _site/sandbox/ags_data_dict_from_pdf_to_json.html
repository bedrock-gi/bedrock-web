<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Extract Data from .pdf with ChatGPT – Bedrock</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../public/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta property="og:title" content="Extract Data from .pdf with ChatGPT – Bedrock">
<meta property="og:description" content="Bedrock is the open source foundation for ground investigation data, subsurface modelling and Geo-BIM.">
<meta property="og:image" content="https://bedrock.engineer/sandbox/public/Bedrock_inCircle.png">
<meta property="og:site_name" content="Bedrock">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../public/Bedrock.png" alt="Bedrock" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Bedrock</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../docs/index.html"> 
<span class="menu-text">Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../articles.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="https://github.com/bedrock-gi/bedrock-gi/issues"><i class="bi bi-bug" role="img">
</i> 
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/orgs/bedrock-gi/discussions"><i class="bi bi-chat-right-text" role="img">
</i> 
 <span class="dropdown-text">Ask Bedrock a Question</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://speckle.community/"><i class="bi bi-question-square-fill" role="img">
</i> 
 <span class="dropdown-text">Ask Speckle a Question</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/bedrock-gi/bedrock-gi" title="Bedrock's GitHub" class="quarto-navigation-tool px-1" aria-label="Bedrock's GitHub"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/company/bedrock-gi/" title="Bedrock's LinkedIn" class="quarto-navigation-tool px-1" aria-label="Bedrock's LinkedIn"><i class="bi bi-linkedin"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#extract-ags-3-and-4-data-dictionaries-from-their-corresponding-ags-.pdf-documents" id="toc-extract-ags-3-and-4-data-dictionaries-from-their-corresponding-ags-.pdf-documents" class="nav-link active" data-scroll-target="#extract-ags-3-and-4-data-dictionaries-from-their-corresponding-ags-.pdf-documents">Extract AGS 3 and 4 Data Dictionaries from their corresponding AGS .pdf documents</a></li>
  </ul>
<div class="toc-actions"><ul class="collapse"><li><a href="https://github.com/bedrock-gi/bedrock-web/blob/main/sandbox/ags_data_dict_from_pdf_to_json.ipynb" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.dev/bedrock-gi/bedrock-web/blob/main/sandbox/ags_data_dict_from_pdf_to_json.ipynb" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/bedrock-gi/bedrock-gi/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Extract Data from .pdf with ChatGPT</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="cell-1" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pdfplumber</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>os.getcwd()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>'c:\\Users\\joost\\ReposWindows\\bedrock-web\\sandbox'</code></pre>
</div>
</div>
<p>Upload the AGS3-3-1-2005.pdf</p>
<p>Then use a prompt like this:</p>
<blockquote class="blockquote">
<p>Put the Groups and Headings table in a CSV with columns group_name,contents,notes,parent_group<br>
The Groups and Headings table starts at the bottom of page 13 and finishes on page 17.</p>
</blockquote>
<p>It might require a bit of chatting with ChatGPT before you get a proper table in your chat. Once you do, you can copy-paste it to a .tsv file. A .tsv file is a Tab Separated Value file instead of CSV - Comma Separated Value file, which is what you get when you copy the table from ChatGPT. TSV’s are also handy, because they don’t run into issues when one of the values contains a comma…</p>
<p>Now it could be that ChatGPT doesn’t always return the same results and that the table isn’t exactly as in the AGS 3 .pdf document. This was the case for me:</p>
<div id="cell-3" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">"ags3_chatgpt_groups_and_headings.tsv"</span>, sep<span class="op">=</span><span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">"df"</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"ags3_chatgpt_groups_and_headings2.tsv"</span>, sep<span class="op">=</span><span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">"df"</span>] <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate the two DataFrames</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df_concat <span class="op">=</span> pd.concat([df1, df2])</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the duplicate rows</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>manual_duplicates <span class="op">=</span> df_concat.duplicated(</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    subset<span class="op">=</span>df_concat.columns.difference([<span class="st">"df"</span>]), keep<span class="op">=</span><span class="va">False</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the rows that are not duplicates (i.e., the rows that are unique to one DataFrame)</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>unique_rows <span class="op">=</span> df_concat[<span class="op">~</span>manual_duplicates]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>unique_rows.sort_index()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">group_name</th>
<th data-quarto-table-cell-role="th">contents</th>
<th data-quarto-table-cell-role="th">parent_group</th>
<th data-quarto-table-cell-role="th">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>HPGI</td>
<td>Horizontal Profile Gauge Installation Details</td>
<td>HOLE</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>HPGI</td>
<td>Horizontal Profile Gauge Installation</td>
<td>HOLE</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>IFID</td>
<td>On Site Volatile Headspace Testing (FID)</td>
<td>HOLE</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>IFID</td>
<td>On Site Volatile Headspace Testing Using Flame...</td>
<td>HOLE</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>INST</td>
<td>Single Point Instrument Installation</td>
<td>HOLE</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>INST</td>
<td>Single Point Instrument Installation Details</td>
<td>HOLE</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>IPID</td>
<td>On Site Volatile Headspace Testing (PID)</td>
<td>HOLE</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">71</td>
<td>UNIT</td>
<td>Definition of &lt;UNITS&gt; and CNMT_UNIT</td>
<td>-</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">72</td>
<td>UNIT</td>
<td>Definition of Units</td>
<td>-</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="extract-ags-3-and-4-data-dictionaries-from-their-corresponding-ags-.pdf-documents" class="level2">
<h2 class="anchored" data-anchor-id="extract-ags-3-and-4-data-dictionaries-from-their-corresponding-ags-.pdf-documents">Extract AGS 3 and 4 Data Dictionaries from their corresponding AGS .pdf documents</h2>
<div id="cell-5" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_ags3_data_dict_table(table):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    headings <span class="op">=</span> []</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table[<span class="dv">2</span>:]:  <span class="co"># Skip first 2 rows: 1st = title, 2nd = headings</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        headings.append(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"status"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">0</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">0</span>].strip(),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">"heading"</span>: row[<span class="dv">1</span>].strip(),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"unit"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">2</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">2</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"description"</span>: row[<span class="dv">3</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>),</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"example"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">4</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">4</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> headings</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_ags4_data_dict_table(table):</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Skip rows that don't contain data</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, row <span class="kw">in</span> <span class="bu">enumerate</span>(table):</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">"Suggested</span><span class="ch">\n</span><span class="st">Unit / Type"</span> <span class="kw">in</span> row <span class="kw">or</span> <span class="st">"Unit / Type"</span> <span class="kw">in</span> row:</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            first_data_row <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    headings <span class="op">=</span> []</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table[first_data_row:]:</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        row <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> row <span class="cf">if</span> x <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>]</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        headings.append(</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">"status"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">0</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">0</span>].strip(),</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">"heading"</span>: row[<span class="dv">1</span>].strip(),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                <span class="st">"unit"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">2</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">2</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">""</span>),</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                <span class="st">"type"</span>: row[<span class="dv">3</span>].strip(),</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>                <span class="st">"description"</span>: row[<span class="dv">4</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>),</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                <span class="st">"example"</span>: <span class="va">None</span> <span class="cf">if</span> row[<span class="dv">5</span>] <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> row[<span class="dv">5</span>].strip().replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>),</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> headings</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-6" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ags_version <span class="op">=</span> <span class="dv">4</span>  <span class="co"># AGS version 3 or 4</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pdf_dict <span class="op">=</span> {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: {<span class="st">"pdf_file"</span>: <span class="st">"AGS3_v3-1-2005.pdf"</span>, <span class="st">"from_page"</span>: <span class="dv">22</span>, <span class="st">"to_page"</span>: <span class="dv">69</span>},</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: {<span class="st">"pdf_file"</span>: <span class="st">"AGS4-v4-1-1-2022.pdf"</span>, <span class="st">"from_page"</span>: <span class="dv">18</span>, <span class="st">"to_page"</span>: <span class="dv">160</span>},</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-7" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pdf_file, from_page, to_page <span class="op">=</span> pdf_dict[ags_version].values()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># List to store extracted data for each group</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>extracted_data <span class="op">=</span> []</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>previous_group_name <span class="op">=</span> <span class="st">""</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pdfplumber.<span class="bu">open</span>(pdf_file) <span class="im">as</span> pdf:</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adjust the page range based on where the tables are located</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> page_number <span class="kw">in</span> <span class="bu">range</span>(from_page, to_page):</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        page <span class="op">=</span> pdf.pages[page_number <span class="op">-</span> <span class="dv">1</span>]  <span class="co"># pdfplumber is 0-based, so subtract 1</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        tables_on_current_page <span class="op">=</span> page.extract_tables()  <span class="co"># Extract tables from the page</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Iterate through all tables found on the page</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> table <span class="kw">in</span> tables_on_current_page:</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> ags_version <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                table_title <span class="op">=</span> table[<span class="dv">0</span>][<span class="dv">0</span>].strip()  <span class="co"># Get table title from AGS3</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> ags_version <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                table_title <span class="op">=</span> table[<span class="dv">0</span>][<span class="dv">1</span>].strip()  <span class="co"># Get table title from AGS4</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(table_title)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>            parts <span class="op">=</span> table_title.split(<span class="st">": "</span>, <span class="dv">1</span>)  <span class="co"># Split on the first occurrence of ': '</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="st">"Group Name"</span> <span class="kw">in</span> parts[<span class="dv">0</span>]:</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>                group_name <span class="op">=</span> parts[<span class="dv">1</span>].split(<span class="st">" - "</span>)[<span class="dv">0</span>]</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>                group_description <span class="op">=</span> <span class="st">" - "</span>.join(parts[<span class="dv">1</span>].split(<span class="st">" - "</span>)[<span class="dv">1</span>:])</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>                group_description <span class="op">=</span> group_description.replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">" "</span>)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> ags_version <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>                    headings <span class="op">=</span> extract_ags3_data_dict_table(table)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>                <span class="cf">elif</span> ags_version <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>                    headings <span class="op">=</span> extract_ags4_data_dict_table(table)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> group_name <span class="op">==</span> previous_group_name:</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>                    extracted_data[<span class="op">-</span><span class="dv">1</span>][<span class="st">"headings"</span>].extend(headings)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>                    extracted_data.append(</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>                        {</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"group_name"</span>: group_name,</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"group_description"</span>: group_description,</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"headings"</span>: headings,</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>                        }</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>                previous_group_name <span class="op">=</span> group_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Group Name: PROJ - Project Information
Group Name: ABBR - Abbreviation Definitions
Group Name: DICT - User Defined Groups and Headings
Group Name: FILE - Associated Files
Group Name: TRAN - Data File Transmission Information / Data Status
Group Name: TYPE - Definition of Data Types
Group Name: UNIT - Definition of Units
Group Name: AAVT - Aggregate Abrasion Tests
Group Name: AAVT - Aggregate Abrasion Tests
Group Name: ACVT - Aggregate Crushing Value Tests
Group Name: AELO - Aggregate Elongation Index Tests
Group Name: AFLK - Aggregate Flakiness Tests
Group Name: AFLK - Aggregate Flakiness Tests
Group Name: AIVT - Aggregate Impact Value Tests
Group Name: AIVT - Aggregate Impact Value Tests
Group Name: ALOS - Los Angeles Abrasion Tests
Group Name: ALOS - Los Angeles Abrasion Tests
Group Name: APSV - Aggregate Polished Stone Tests
Group Name: ARTW - Aggregate Determination of the Resistance to Wear (micro-Deval)
Group Name: ASDI - Slake Durability Index Tests
Group Name: ASNS - Aggregate Soundness Tests
Group Name: AWAD - Aggregate Water Absorption Tests
Group Name: AWAD - Aggregate Water Absorption Tests
Group Name: BKFL - Exploratory Hole Backfill Details
Group Name: CBRG - California Bearing Ratio Tests - General
Group Name: CBRT - California Bearing Ratio Tests - Data
Group Name: CDIA - Casing Diameter by Depth
Group Name: CHIS - Chiselling Details
Group Name: CHOC - Chain of Custody Information
Group Name: CMPG - Compaction Tests - General
Group Name: CMPT - Compaction Tests - Data
Group Name: CONG - Consolidation Tests - General
Group Name: CONG - Consolidation Tests - General
Group Name: CONS - Consolidation Tests - Data
Group Name: CONS - Consolidation Tests - Data
Group Name: CTRC - Cyclic Triaxial Tests - Consolidation
Group Name: CTRC - Cyclic Triaxial Tests - Consolidation
Group Name: CTRD - Cyclic Triaxial Tests - Data
Group Name: CTRG - Cyclic Triaxial Test - General
Group Name: CTRG - Cyclic Triaxial Test - General
Group Name: CTRP - Cyclic Triaxial Test - Derived Parameters
Group Name: CTRP - Cyclic Triaxial Test - Derived Parameters
Group Name: CTRS - Cyclic Triaxial Test - Saturation
Group Name: CORE - Coring Information
Group Name: DCPG - Dynamic Cone Penetrometer Tests - General
Group Name: DCPG - Dynamic Cone Penetrometer Tests - General
Group Name: DCPT - Dynamic Cone Penetrometer Tests - Data
Group Name: DETL - Stratum Detail Descriptions
Group Name: DETL - Stratum Detail Descriptions
Group Name: DISC - Discontinuity Data
Group Name: DISC - Discontinuity Data
Group Name: DLOG - Driller Geological Description
Group Name: DOBS - Drilling/Advancement Observations &amp; Parameters
Group Name: DOBS - Drilling/Advancement Observations &amp; Parameters
Group Name: DPRG - Dynamic Probe Tests - General
Group Name: DPRB - Dynamic Probe Tests - Data
Group Name: DREM - Depth Related Remarks
Group Name: ECTN - Sample Container Details
Group Name: ELRG - Environmental Laboratory Reporting
Group Name: ELRG - Environmental Laboratory Reporting
Description
Depth to top of test
specimen
Laboratory analytical
name

Group Name: ERES - Environmental Contaminant Testing
Group Name: ERES - Environmental Contaminant Testing
Group Name: ESCG - Effective Stress Consolidation Tests - General
Group Name: ESCG - Effective Stress Consolidation Tests - General
Group Name: ESCT - Effective Stress Consolidation Tests - Data
Group Name: ESCT - Effective Stress Consolidation Tests - Data
Group Name: FGHG - Field Geohydraulic Testing - General
Group Name: FGHI - Field Geohydraulic Testing - Instrumentation Details
Group Name: FGHS - Field Geohydraulic Testing - Test Results (per stage)
Group Name: FGHT - Field Geohydraulic Testing - Data
Group Name: FLSH - Drilling Flush Details
Group Name: FRAC - Fracture Spacing
Group Name: FRST - Frost Susceptibility Tests
Group Name: FRST - Frost Susceptibility Tests
Group Name: GCHM - Geotechnical Chemistry Testing
Group Name: GCHM - Geotechnical Chemistry Testing
Group Name: GEOL - Field Geological Descriptions
Group Name: GRAG - Particle Size Distribution Analysis - General
Group Name: GRAG - Particle Size Distribution Analysis - General
Group Name: GRAT - Particle Size Distribution Analysis - Data
Group Name: GRAT - Particle Size Distribution Analysis - Data
Group Name: HDIA - Hole Diameter by Depth
Group Name: HDPH - Depth Related Exploratory Hole Information
Group Name: HDPH - Depth Related Exploratory Hole Information
Group Name: HORN - Exploratory Hole Orientation and Inclination
Group Name: ICBR - In Situ California Bearing Ratio Tests
Group Name: ICBR - In Situ California Bearing Ratio Tests
Group Name: IDEN - In Situ Density Tests
Group Name: IFID - On Site Volatile Headspace Testing Using Flame Ionisation Detector
Group Name: IPEN - In Situ Hand Penetrometer Tests
Group Name: IPID - On Site Volatile Headspace Testing by Photo Ionisation Detector
Group Name: IPID - On Site Volatile Headspace Testing by Photo Ionisation Detector
Group Name: IPRG - In Situ Permeability Tests - General
Group Name: IPRG - In Situ Permeability Tests - General
Group Name: IPRT - In Situ Permeability Tests - Data
Group Name: IRDX - In Situ Redox Tests
Group Name: IRES - In Situ Resistivity Tests
Group Name: IRES - In Situ Resistivity Tests
Group Name: ISAG - Soakaway Tests - General
Group Name: ISAG - Soakaway Tests - General
Group Name: ISAT - Soakaway Tests - Data
Group Name: ISPT - Standard Penetration Test Results
Group Name: ISPT - Standard Penetration Test Results
Group Name: IVAN - In Situ Vane Tests
Group Name: LBSG - Testing Schedule
Group Name: LBST - Testing Schedule Details
Group Name: LBST - Testing Schedule Details
Group Name: LDEN - Density Tests
Group Name: LDEN - Density Tests
Group Name: LDYN - Dynamic Testing
Group Name: LDYN - Dynamic Testing
Group Name: LFCN – Laboratory Fall Cone Test
Group Name: LFCN – Laboratory Fall Cone Test
Group Name: LLIN - Linear Shrinkage Tests
Group Name: LLIN - Linear Shrinkage Tests
Group Name: LLPL - Liquid and Plastic Limit Tests
Group Name: LLPL - Liquid and Plastic Limit Tests
Group Name: LNMC - Water/moisture Content Tests
Group Name: LOCA - Location Details
Group Name: LOCA - Location Details
Group Name: LPDN - Particle Density Tests
Group Name: LPEN - Laboratory Hand Penetrometer Tests
Group Name: LRES - Laboratory Resistivity Tests
Group Name: LRES - Laboratory Resistivity Tests
Group Name: LSLT - Shrinkage Limit Tests
Group Name: LSTG - Initial Consumption of Lime Tests - General
Group Name: LSTG - Initial Consumption of Lime Tests - General
Group Name: LSTT - Initial Consumption of Lime Tests - Data
Group Name: LSWL - Swelling Index Testing
Group Name: LSWL - Swelling Index Testing
Group Name: LTCH - Laboratory Thermal Conductivity
Group Name: LTCH - Laboratory Thermal Conductivity
Group Name: LUCT - Laboratory Unconfined Compression Test
Group Name: LUCT - Laboratory Unconfined Compression Test
Group Name: LVAN - Laboratory Vane Tests
Group Name: LVAN - Laboratory Vane Tests
Group Name: MCVG - MCV Tests - General
Group Name: MCVG - MCV Tests - General
Group Name: MCVT - MCV Tests - Data
Group Name: MCVT - MCV Tests - Data
Group Name: MOND - Monitoring Readings
Group Name: MONG - Monitoring Installations and Instruments
Group Name: MONG - Monitoring Installations and Instruments
Group Name: PIPE - Monitoring Installation Pipe Work
Group Name: PLTG - Plate Loading Tests - General
Group Name: PLTT - Plate Loading Tests - Data
Group Name: PMTG - Pressuremeter Test Results - General
Group Name: PMTG - Pressuremeter Test Results - General
Group Name: PMTD - Pressuremeter Test Data
Group Name: PMTL - Pressuremeter Test Results - Individual Loops
Group Name: PREM - Project Specific Time Related Remarks
Group Name: PTIM - Boring/Drilling Progress by Time
Group Name: PTST - Laboratory Permeability Tests
Group Name: PTST - Laboratory Permeability Tests
Group Name: PTST - Laboratory Permeability Tests
Group Name: PUMG - Pumping Tests - General
Group Name: PUMT - Pumping Tests - Data
Group Name: RCAG - Rock Abrasiveness Tests - General
Group Name: RCAG - Rock Abrasiveness Tests - General
Group Name: RCAT - Rock Abrasiveness Tests - Data
Group Name: RCAT - Rock Abrasiveness Tests - Data
Group Name: RCCV - Chalk Crushing Value Tests
Group Name: RCCV - Chalk Crushing Value Tests
Group Name: RDEN - Rock Porosity and Density Tests
Group Name: RDEN - Rock Porosity and Density Tests
Group Name: RELD - Relative Density Tests
Group Name: RELD - Relative Density Tests
Group Name: RESC - Resonant Column Test - Consolidation
Group Name: RESC - Resonant Column Test - Consolidation
Group Name: RESD - Resonant Column Test – Data
Group Name: RESD - Resonant Column Test – Data
Group Name: RESG - Resonant Column Test – General
Group Name: RESG - Resonant Column Test – General
Group Name: RESP - Resonant Column Test - Derived Parameters
Group Name: RESS - Resonant Column Test – Saturation
Group Name: RPLT - Point Load Testing
Group Name: RPLT - Point Load Testing
Group Name: RSCH - Schmidt Rebound Hardness Tests
Group Name: RSCH - Schmidt Rebound Hardness Tests
Group Name: RSCH - Schmidt Rebound Hardness Tests
Group Name: RSHR - Shore Scleroscope Hardness Tests
Group Name: RTEN - Tensile Strength Testing
Group Name: RUCS - Rock Uniaxial Compressive Strength and Deformability Tests
Group Name: RUCS - Rock Uniaxial Compressive Strength and Deformability Tests
Group Name: RWCO - Water Content of Rock Tests
Group Name: RWCO - Water Content of Rock Tests
Group Name: SAMP - Sample Information
Group Name: SAMP - Sample Information
Group Name: SCDG - Static Cone Dissipation Tests - General
Group Name: SCDT - Static Cone Dissipation Tests - Data
Group Name: SCDT - Static Cone Dissipation Tests - Data
Group Name: SCPG - Static Cone Penetration Tests - General
Group Name: SCPP - Static Cone Penetration Tests - Derived Parameters
Group Name: SCPT - Static Cone Penetration Tests - Data
Group Name: SCPT - Static Cone Penetration Tests - Data
Group Name: SHBG - Shear Box Testing - General
Group Name: SHBG - Shear Box Testing - General
Group Name: SHBT - Shear Box Testing - Data
Group Name: SHBT - Shear Box Testing - Data
Group Name: STND - Standards / Specifications
Group Name: SUCT - Suction Tests
Group Name: SUCT - Suction Tests
Group Name: TNPC - Ten Per Cent Fines
Group Name: TNPC - Ten Per Cent Fines
Group Name: TREG - Triaxial Tests - Effective Stress - General
Group Name: TRET - Triaxial Tests - Effective Stress - Data
Group Name: TRET - Triaxial Tests - Effective Stress - Data
Group Name: TREM - Location Specific Time Related Remarks
Group Name: TRIG - Triaxial Tests - Total Stress - General
Group Name: TRIT - Triaxial Tests - Total Stress - Data
Group Name: TRIT - Triaxial Tests - Total Stress - Data
Group Name: WADD - Water Added Records
Group Name: WADD - Water Added Records
Group Name: WETH - Weathering
Group Name: WGPG - Wireline Geophysics - General
Group Name: WGPT - Wireline Geophysics - Readings
Tool
Calliper X-Y (2 x two
arm Calliper)
Downhole Magnetic
Resonance

Group Name: WINS - Window or Windowless Sampling Run Details
Group Name: WSTG - Water Strike - General
Group Name: WSTD - Water Strike - Details</code></pre>
</div>
</div>
<div id="cell-8" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="ss">f"ags</span><span class="sc">{</span>ags_version<span class="sc">}</span><span class="ss">_manual_groups.json"</span>, <span class="st">"r"</span>) <span class="im">as</span> f:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    manual_groups <span class="op">=</span> json.load(f)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>extracted_groups <span class="op">=</span> [d[<span class="st">"group_name"</span>] <span class="cf">for</span> d <span class="kw">in</span> extracted_data]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">set</span>(manual_groups) <span class="op">-</span> <span class="bu">set</span>(extracted_groups))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">set</span>(extracted_groups) <span class="op">-</span> <span class="bu">set</span>(manual_groups))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>{'LFCN'}
{'LFCN – Laboratory Fall Cone Test'}</code></pre>
</div>
</div>
<div id="cell-9" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the extracted data to a JSON file</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="ss">f"ags</span><span class="sc">{</span>ags_version<span class="sc">}</span><span class="ss">_data_dict_p</span><span class="sc">{</span>from_page<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>to_page<span class="sc">}</span><span class="ss">.json"</span>, <span class="st">"w"</span>) <span class="im">as</span> json_file:</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    json.dump(extracted_data, json_file, indent<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/bedrock\.engineer");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/bedrock-gi/bedrock-web/blob/main/sandbox/ags_data_dict_from_pdf_to_json.ipynb" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.dev/bedrock-gi/bedrock-web/blob/main/sandbox/ags_data_dict_from_pdf_to_json.ipynb" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/bedrock-gi/bedrock-gi/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/bedrock-gi/bedrock-gi">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/bedrock-gi/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>